<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button slot="icon-only" (click)="dismiss()">
                <ion-icon name="close"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>{{ !!category ? category.name : 'Nueva Categor√≠a' }}</ion-title>
        <ion-buttons slot="end">
            <ion-button slot="icon-only" [disabled]="!categoriesForm.valid" (click)="save()">
                <ion-icon name="checkmark"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <form [formGroup]="categoriesForm" novalidate>
        <ion-item>
            <ion-label position="floating">Nombre</ion-label>
            <ion-input formControlName="name" placeholder="Introduce un nombre"></ion-input>
        </ion-item>
        <ion-item (click)="selectImage()">
            <div>
                <ion-label>Icono</ion-label>
                <ion-label class="icon-placeholder" color="medium" *ngIf="!icon">Haz click para seleccionar un icono</ion-label>
                <ion-icon [name]="icon" size="large" *ngIf="!!icon" slot="start"></ion-icon>
            </div>
        </ion-item>
        <ion-item>
            <ion-label position="floating">Color</ion-label>
            <ion-input
                class="input-color-picker"
                [(colorPicker)]="black"
                [style.background]="!!category ? category.color : '#000000'"
                [style.border-color]="!!category ? category.color : '#000000'"
                [cpOKButton]="true"
                [cpCancelButton]="true"
                (colorPickerSelect)="changeColor($event)"
            ></ion-input>
        </ion-item>
        <ion-list>
            <ion-list-header>
                <ion-toolbar>
                    Tickets

                    <ion-buttons slot="end">
                        <ion-button slot="icon-only" (click)="openTicketConfig()">
                            <ion-icon name="add"></ion-icon>
                        </ion-button>
                    </ion-buttons>
                </ion-toolbar>
            </ion-list-header>
            <ion-item *ngFor="let ticket of category?.tickets">
                {{ ticket.name }}
                <ion-buttons slot="end">
                    <ion-button slot="icon-only">
                        <ion-icon name="close"></ion-icon>
                    </ion-button>
                </ion-buttons>
            </ion-item>
        </ion-list>
    </form>
</ion-content>
